.template-preview-modal-clean {
    .ant-modal-content {
        border-radius: 8px;
        overflow: hidden;
    }

    .template-container {
        display: flex;
        flex-direction: column;
    }

    .template-header {
        padding: 12px 14px;
        border-bottom: 1px solid #f0f0f0;
        background-color: #f9f9f9;

        .header-main {
            display: flex;
            align-items: center;
            justify-content: space-between;

            .template-title {
                margin: 0;
                font-size: 16px;
                line-height: 1.3;
                flex: 1;

                // Truncate long titles
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            .applied-badge {
                margin-left: 8px;
            }
        }

        .template-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 4px;

            .meta-stats {
                display: flex;
                align-items: center;
                gap: 12px;

                .meta-item {
                    display: flex;
                    align-items: center;
                    gap: 5px;
                    color: rgba(0, 0, 0, 0.65);
                    font-size: 12px;
                }
            }

            .desc-toggle {
                color: rgba(0, 0, 0, 0.45);
                height: 24px;
                width: 24px;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: center;

                &:hover {
                    color: #1890ff;
                    background-color: rgba(24, 144, 255, 0.1);
                }
            }
        }

        .template-description {
            margin-top: 6px;
            margin-bottom: 0;
            color: rgba(0, 0, 0, 0.65);
            font-size: 12px;
            padding: 6px 8px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 4px;
            border-left: 2px solid #1890ff;
        }
    }

    .courses-section {
        flex: 1;
        display: flex;
        flex-direction: column;

        .section-title {
            padding: 16px 24px;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 1px solid #f0f0f0;
            color: rgba(0, 0, 0, 0.85);
        }
    }

    .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        padding: 16px 24px;
        border-top: 1px solid #f0f0f0;
    }
}

.template-preview-modal-compact {
    .ant-modal-content {
        border-radius: 6px;
        overflow: hidden;
    }

    .template-container {
        display: flex;
        flex-direction: column;
    }

    .template-header {
        padding: 12px 14px;
        border-bottom: 1px solid #f0f0f0;
        background-color: #f9f9f9;

        .header-main {
            display: flex;
            align-items: center;
            justify-content: space-between;

            .template-title {
                margin: 0;
                font-size: 16px;
                line-height: 1.3;
                flex: 1;

                // Truncate long titles
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            .applied-badge {
                margin-left: 8px;
            }
        }

        .template-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 4px;

            .meta-stats {
                display: flex;
                align-items: center;
                gap: 12px;

                .meta-item {
                    display: flex;
                    align-items: center;
                    gap: 5px;
                    color: rgba(0, 0, 0, 0.65);
                    font-size: 12px;
                }
            }

            .desc-toggle {
                color: rgba(0, 0, 0, 0.45);
                height: 24px;
                width: 24px;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: center;

                &:hover {
                    color: #1890ff;
                    background-color: rgba(24, 144, 255, 0.1);
                }
            }
        }

        .template-description {
            margin-top: 6px;
            margin-bottom: 0;
            color: rgba(0, 0, 0, 0.65);
            font-size: 12px;
            padding: 6px 8px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 4px;
            border-left: 2px solid #1890ff;
        }
    }

    .template-header-card {
        margin: 0;
        border-radius: 0;
        background: linear-gradient(120deg, #f9f9f9, #fff);

        .ant-card-body {
            padding: 14px;
        }

        .template-header-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;

            .template-info {
                flex: 1;
                min-width: 0; // For text truncation to work

                .template-title-row {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 4px;

                    .template-title {
                        margin: 0;
                        font-size: 16px;
                        line-height: 1.3;
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        max-width: 100%;
                    }

                    .applied-badge {
                        .ant-badge-status-dot {
                            width: 8px;
                            height: 8px;
                        }

                        .ant-badge-status-text {
                            color: #52c41a;
                            font-weight: 600;
                            font-size: 12px;
                        }
                    }
                }

                .info-button {
                    color: rgba(0, 0, 0, 0.45);
                    font-size: 12px;
                    padding: 0 8px;
                    height: 24px;
                    margin-left: -8px;

                    &:hover {
                        color: #1890ff;
                        background-color: rgba(24, 144, 255, 0.1);
                    }

                    .anticon {
                        font-size: 14px;
                        margin-right: 4px;
                    }
                }
            }

            .template-metrics {
                display: flex;
                gap: 16px;
                padding-left: 16px;

                .metrics-item {
                    display: flex;
                    flex-direction: column;
                    align-items: center;

                    .courses-badge {
                        .ant-badge-count {
                            background-color: #1890ff;
                            font-size: 14px;
                            font-weight: 600;
                            height: 24px;
                            line-height: 24px;
                            padding: 0 8px;
                            border-radius: 12px;
                            min-width: 46px;
                            text-align: center;
                        }
                    }

                    .metrics-label {
                        font-size: 11px;
                        color: rgba(0, 0, 0, 0.45);
                        margin-top: 4px;
                    }

                    .progress-text {
                        font-size: 10px;
                        line-height: 1.2;
                        text-align: center;
                        color: rgba(0, 0, 0, 0.65);

                        .anticon {
                            font-size: 10px;
                            margin-bottom: 1px;
                        }
                    }

                    .ant-progress-inner {
                        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                    }
                }
            }
        }
    }

    .description-popover {
        max-width: 300px;
        font-size: 13px;
        color: rgba(0, 0, 0, 0.65);
        line-height: 1.5;
    }

    .courses-section {
        flex: 1;
        display: flex;
        flex-direction: column;

        .section-title {
            padding: 12px 16px;
            font-weight: 600;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 1px solid #f0f0f0;
            color: rgba(0, 0, 0, 0.85);
            background-color: #fafafa;
        }
    }

    .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 8px;
        padding: 12px 16px;
        border-top: 1px solid #f0f0f0;
        background-color: #fafafa;

        .ant-btn {
            font-size: 13px;
        }
    }
}

// New template header design with always-visible description

.template-header-redesign {
    border-bottom: 1px solid #f0f0f0;

    .header-top {
        display: flex;
        justify-content: space-between;
        padding: 14px 16px;
        background: linear-gradient(to right, #f5f8ff, #f9f9f9);

        .title-section {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 0; // For text truncation

            .template-title {
                margin: 0;
                font-size: 16px;
                font-weight: 600;
                color: #303133;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .applied-badge {
                flex-shrink: 0;
            }
        }

        .stats-section {
            display: flex;
            gap: 16px;
            margin-left: 16px;

            .stat-item {
                display: flex;
                align-items: center;
                gap: 6px;
                padding: 4px 8px;
                background-color: rgba(255, 255, 255, 0.7);
                border-radius: 4px;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

                .stat-icon {
                    color: #1890ff;
                    font-size: 14px;
                }

                .stat-value {
                    font-weight: 600;
                    color: #1890ff;
                    font-size: 13px;
                }

                .stat-label {
                    color: rgba(0, 0, 0, 0.5);
                    font-size: 12px;
                }
            }
        }
    }

    .description-section {
        padding: 0 16px 12px;
        background-color: #f9f9f9;

        .description-header {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 6px;

            .description-icon {
                color: rgba(0, 0, 0, 0.5);
                font-size: 14px;
            }

            .description-label {
                font-size: 13px;
                font-weight: 600;
                color: rgba(0, 0, 0, 0.65);
            }
        }

        .description-content {
            background-color: white;
            border-radius: 6px;
            padding: 8px 10px;
            border-left: 3px solid #1890ff;

            .template-description {
                font-size: 13px;
                color: rgba(0, 0, 0, 0.65);
                margin-bottom: 0;
                line-height: 1.5;
            }
        }
    }
}

// Update the courses section to connect well with the new header
.courses-section {
    .section-title {
        padding: 12px 16px;
        background-color: white;
        border-bottom: 1px solid #f0f0f0;

        // Additional styling...
    }
}
